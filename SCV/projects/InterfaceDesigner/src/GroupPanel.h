#ifndef __GROUP_PANEL_H__
#define __GROUP_PANEL_H__

#include "SCV/Group.h"
#include "GroupObjectWrapper.h"

class GroupPanel;
class GroupPanelMenu : public scv::ContextMenu {
public:
   ///////////////////////////////////////////////////////////
   GroupPanelMenu(GroupPanel *host);
   virtual ~GroupPanelMenu(void);
   ///////////////////////////////////////////////////////////

   ///////////////////////////////////////////////////////////
   virtual void onMenuAccessed(const std::deque<std::string> &address);
   virtual void onStatusChange(void);
   ///////////////////////////////////////////////////////////
   
protected:
   GroupPanel *_host;
   scv::ContextMenu *_addableObjects;
private:
};

///////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////

class GroupPanel : public scv::Panel {
public:
   enum GroupType {HORIZONTAL, VERTICAL};

   ///////////////////////////////////////////////////////////
   GroupPanel(GroupType type);
   virtual ~GroupPanel(void);
   ///////////////////////////////////////////////////////////

   //Memory Management
   ///////////////////////////////////////////////////////////
   virtual void addChild(scv::Component *object);
   ///////////////////////////////////////////////////////////

   ///////////////////////////////////////////////////////////
   virtual std::string getCode(const std::string &tab);
   GroupType getType(void) const;
   ///////////////////////////////////////////////////////////

   void createPreview(scv::Group *group);

   ///////////////////////////////////////////////////////////
   virtual void display(void);   
   ///////////////////////////////////////////////////////////

protected:
   static const std::string s_defaultTab;

   GroupType _type;
   scv::Group *_verticalGroup, *_horizontalGroup;
   virtual void createTexture(void);

private:   
   static scv::ComponentTexture *s_customTexture;
};

///////////////////////////////////////////////////////////

#endif //__GROUP_PANEL_H__